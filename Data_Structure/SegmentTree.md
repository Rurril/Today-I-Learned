# ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬(Segment Tree)


## ì •ì˜

êµ¬ê°„ë“¤ì„ ë³´ì¡´í•˜ê³  ìˆëŠ” íŠ¸ë¦¬ë‹¤.

![](https://leetcode.com/articles/Figures/segtree_intro_1.png)

ìœ„ì˜ ê·¸ë¦¼ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ë¦¬í”„ ë…¸ë“œë“¤ì€ ë°°ì—´ í•˜ë‚˜ì˜ ê°’ë“¤ì„ ê°€ì§€ê³ , ê·¸ ìœ„ì˜ ë¶€ëª¨ëŠ” ìì‹ ë…¸ë“œë“¤ì˜ êµ¬ê°„ì˜ í•© ë§Œí¼ì˜ êµ¬ê°„ì— ëŒ€í•œ ê°’ì„ ê°€ì§„ë‹¤. 

## íŠ¹ì§•

ì£¼ì–´ì§„ ì¿¼ë¦¬ì— ëŒ€í•´ ë¹ ë¥´ê²Œ ì‘ë‹µí•˜ê¸° ìœ„í•´ì„œ ë§Œë“¤ì–´ì§„ ìë£Œêµ¬ì¡°ë‹¤.

[ë°±ì¤€ ë¬¸ì œ : êµ¬ê°„ í•© êµ¬í•˜ê¸°](https://www.acmicpc.net/problem/2042) ì—ì„œ ê° êµ¬ê°„ì— ëŒ€í•œ í•©ì„ êµ¬í•´ì•¼ í•˜ëŠ”ë°, ì¤‘ê°„ì— ìš”ì†Œì— ëŒ€í•œ UPDATE ì¿¼ë¦¬ê°€ ì¼ì–´ë‚˜ê³ , ìµœëŒ€ 100ë§Œë²ˆê¹Œì§€ ë³€ê²½ì´ ì´ë£¨ì–´ì§„ë‹¤. 

ì´ë•Œ ë³€ê²½ì— ëŒ€í•œ ì¿¼ë¦¬ì™€ êµ¬ê°„ í•©ì„ êµ¬í•˜ëŠ” ì¿¼ë¦¬ê°€ ì‹œê°„ë³µì¡ë„ê°€ ë†’ì€ ì—°ì‚°ìœ¼ë¡œ ì´ë£¨ì–´ì§€ê²Œ ëœë‹¤ë©´ ë¬¸ì œëŠ” ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ê²Œ ëœë‹¤.

ê° êµ¬ê°„ì„ ë°°ì—´ë¡œ êµ¬í˜„í•˜ê²Œ ëœë‹¤ë©´, ìˆ˜ë¥¼ ë°”ê¾¸ëŠ” ë° O(1), ìˆ˜ë¥¼ ë”í•˜ëŠ” ë¶€ë¶„í•©ì˜ êµ¬í˜„ì—ëŠ” O(N)ì´ ê±¸ë¦¬ê³ , Më²ˆì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤ë©´, O(MN + M) = O(MN)ì˜ ì‹œê°„ì´ ê±¸ë¦¬ê²Œ ëœë‹¤.

ì´ ë•Œ, ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ë¥¼ ì´ìš©í•œë‹¤ë©´ ê° ì—°ì‚°(ë³€ê²½, ë¶€ë¶„í•©)ì„ O(logN)ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. 

ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œì˜ ë†’ì´ h = 0 ì´ë¼ê³  í•  ë•Œ, 

> ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ë†’ì´ëŠ” ë¦¬í”„ ë…¸ë“œ(ë°°ì—´ì˜ í¬ê¸°) Nê°œì¼ ë•Œ, log2(N)_ì˜ ì˜¬ë¦¼ ê°’ì´ ëœë‹¤. 

> ë˜í•œ, ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ìµœëŒ€ í¬ê¸°ëŠ” 2^(h+1)ì´ ëœë‹¤. 

> ë£¨íŠ¸ ë…¸ë“œì˜ indexë¥¼ 1ë¡œ ì„¤ì •í•¨ìœ¼ë¡œì¨ ë¶€ëª¨ ë…¸ë“œì™€ ìì‹ ë…¸ë“œì˜ ê´€ê³„ë¥¼ í‘œí˜„í•˜ê²Œ ì‰½ê²Œ êµ¬í˜„í•œë‹¤.

>> ë¶€ëª¨ ë…¸ë“œì˜ (index * 2) ì™€ (index * 2 + 1)ì´ ìì‹ ë…¸ë“œì˜ indexê°€ ëœë‹¤. 


ëŒ€í‘œì ì¸ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ êµ¬ê°„ ì •ë³´ë¡œ **êµ¬ê°„ì— ì†í•œ ì›ì†Œë“¤ì˜ í•©**ì´ ë˜ê² ë‹¤. 

ìœ„ì— ë§í¬ë¥¼ ê±¸ì–´ë†“ì€ ë¬¸ì œê°€ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì˜ ê¸°ë³¸ì ì¸ ë¬¸ì œê³ , ì´ì™¸ì—ë„ êµ¬ê°„ì˜ ì •ë³´ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œë“¤ì„ ì‘ìš©ìœ¼ë¡œ í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. 

### [ë¬¸ì œ êµ¬í˜„í•œ ê²ƒ ì •ë¦¬í•œ ê²ƒ ì°¸ê³ ](https://github.com/Rurril/Problem-Solving/blob/Test/Problem-Solving/PS/SegmentTree/N2042.java)

## ğŸ¤­ ì°¸ê³  ë¬¸ì œ

> [ë°±ì¤€ ì˜¨ë¼ì¸ ì €ì§€ - ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬](https://github.com/Rurril/Problem-Solving/tree/Test/Problem-Solving/PS/SegmentTree)


## ğŸ’Œ ì°¸ê³ ìë£Œ

1. [Ries ë§ˆë²•ì˜ ìŠˆí¼ë§ˆë¦¬ì˜¤](http://blog.naver.com/PostView.nhn?blogId=kks227&logNo=220791986409&categoryNo=299&parentCategoryNo=299&viewDate=&currentPage=10&postListTopCurrentPage=1&from=postList&userTopListOpen=true&userTopListCount=5&userTopListManageOpen=false&userTopListCurrentPage=10)
2. [LeetCode](https://leetcode.com/articles/a-recursive-approach-to-segment-trees-range-sum-queries-lazy-propagation/)